<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="modbus"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:thing="https://openhab.org/schemas/thing-description/v1.0.0"
	xsi:schemaLocation="https://openhab.org/schemas/thing-description/v1.0.0 https://openhab.org/schemas/thing-description-1.0.0.xsd">

	<thing-type id="sungrowInverter">
		<supported-bridge-type-refs>
			<bridge-type-ref id="serial"/>
			<bridge-type-ref id="tcp"/>
		</supported-bridge-type-refs>

		<label>Sungrow inverter</label>
		<description>Sungrow inverter connected via Modbus.</description>
		<category>Inverter</category>
		<channel-groups>
			<channel-group id="sg-overview" typeId="sg-overview"/>
			<channel-group id="sg-mppt_information" typeId="sg-mppt_information"/>
			<channel-group id="sg-battery_information" typeId="sg-battery_information"/>
			<channel-group id="sg-grid_information" typeId="sg-grid_information"/>
			<channel-group id="sg-load_information" typeId="sg-load_information"/>
		</channel-groups>
		<config-description-ref uri="thing-type:sungrow:inverter"/>
	</thing-type>

	<channel-group-type id="sg-overview">
		<label>OVERVIEW</label>
		<channels>
			<channel id="sg-total_active_power" typeId="sg-total_active_power"/>
			<channel id="sg-total_dc_power" typeId="sg-total_dc_power"/>
			<channel id="sg-phase_a_voltage" typeId="sg-phase_a_voltage"/>
			<channel id="sg-phase_b_voltage" typeId="sg-phase_b_voltage"/>
			<channel id="sg-phase_c_voltage" typeId="sg-phase_c_voltage"/>
			<channel id="sg-phase_a_current" typeId="sg-phase_a_current"/>
			<channel id="sg-phase_b_current" typeId="sg-phase_b_current"/>
			<channel id="sg-phase_c_current" typeId="sg-phase_c_current"/>
			<channel id="sg-reactive_power" typeId="sg-reactive_power"/>
			<channel id="sg-grid_frequency" typeId="sg-grid_frequency"/>
			<channel id="sg-daily_pv_generation" typeId="sg-daily_pv_generation"/>
			<channel id="sg-total_pv_generation" typeId="sg-total_pv_generation"/>
			<channel id="sg-power_factor" typeId="sg-power_factor"/>
			<!-- Not working
				<channel id="sg-co2_reduction" typeId="sg-co2_reduction"/>
			-->
			<channel id="sg-internal_temperature" typeId="sg-internal_temperature"/>
		</channels>
	</channel-group-type>

	<channel-group-type id="sg-mppt_information">
		<label>MPPT_INFORMATION</label>
		<channels>
			<channel id="sg-mppt1_voltage" typeId="sg-mppt1_voltage"/>
			<channel id="sg-mppt1_current" typeId="sg-mppt1_current"/>
			<channel id="sg-mppt2_voltage" typeId="sg-mppt2_voltage"/>
			<channel id="sg-mppt2_current" typeId="sg-mppt2_current"/>
		</channels>
	</channel-group-type>

	<channel-group-type id="sg-battery_information">
		<label>BATTERY_INFORMATION</label>
		<channels>
			<channel id="sg-battery_voltage" typeId="sg-battery_voltage"/>
			<channel id="sg-battery_current" typeId="sg-battery_current"/>
			<channel id="sg-battery_power" typeId="sg-battery_power"/>
			<channel id="sg-battery_level" typeId="sg-battery_level"/>
			<channel id="sg-battery_healthy" typeId="sg-battery_healthy"/>
			<channel id="sg-battery_temperature" typeId="sg-battery_temperature"/>
			<channel id="sg-battery_capacity" typeId="sg-battery_capacity"/>
			<channel id="sg-daily_charge_energy" typeId="sg-daily_charge_energy"/>
			<channel id="sg-total_charge_energy" typeId="sg-total_charge_energy"/>
			<channel id="sg-daily_battery_charge" typeId="sg-daily_battery_charge"/>
			<channel id="sg-total_battery_charge" typeId="sg-total_battery_charge"/>
			<channel id="sg-daily_battery_discharge_energy" typeId="sg-daily_battery_discharge_energy"/>
			<channel id="sg-total_battery_discharge_energy" typeId="sg-total_battery_discharge_energy"/>
		</channels>
	</channel-group-type>

	<channel-group-type id="sg-grid_information">
		<label>GRID_INFORMATION</label>
		<channels>
			<channel id="sg-daily_export_energy" typeId="sg-daily_export_energy"/>
			<channel id="sg-total_export_energy" typeId="sg-total_export_energy"/>
			<channel id="sg-daily_import_energy" typeId="sg-daily_import_energy"/>
			<channel id="sg-total_import_energy" typeId="sg-total_import_energy"/>
			<channel id="sg-daily_export_power_from_pv" typeId="sg-daily_export_power_from_pv"/>
			<channel id="sg-total_export_energy_from_pv" typeId="sg-total_export_energy_from_pv"/>
			<channel id="sg-export_power" typeId="sg-export_power"/>
			<!-- not working
				<channel id="sg-grid_state" typeId="sg-grid_state"/>
			-->
		</channels>
	</channel-group-type>

	<channel-group-type id="sg-load_information">
		<label>LOAD_INFORMATION</label>
		<channels>
			<channel id="sg-load_power" typeId="sg-load_power"/>
			<channel id="sg-daily_direct_energy_consumption" typeId="sg-daily_direct_energy_consumption"/>
			<channel id="sg-total_direct_energy_consumption" typeId="sg-total_direct_energy_consumption"/>
			<channel id="sg-self_consumption_today" typeId="sg-self_consumption_today"/>
		</channels>
	</channel-group-type>

	<channel-type id="sg-internal_temperature" advanced="true">
		<item-type>Number:Temperature</item-type>
		<label>INTERNAL_TEMPERATURE</label>
		<category>Temperature</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Temperature</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="sg-mppt1_voltage" advanced="true">
		<item-type>Number:ElectricPotential</item-type>
		<label>MPPT1_VOLTAGE</label>
		<category>Energy</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Voltage</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="sg-mppt1_current" advanced="true">
		<item-type>Number:ElectricCurrent</item-type>
		<label>MPPT1_CURRENT</label>
		<category>Energy</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Current</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="sg-mppt2_voltage" advanced="true">
		<item-type>Number:ElectricPotential</item-type>
		<label>MPPT2_VOLTAGE</label>
		<category>Energy</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Voltage</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="sg-mppt2_current" advanced="true">
		<item-type>Number:ElectricCurrent</item-type>
		<label>MPPT2_CURRENT</label>
		<category>Energy</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Current</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="sg-total_dc_power">
		<item-type>Number:Power</item-type>
		<label>TOTAL_DC_POWER</label>
		<category>Energy</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Power</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="sg-phase_a_voltage" advanced="true">
		<item-type>Number:ElectricPotential</item-type>
		<label>PHASE_A_VOLTAGE</label>
		<category>Energy</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Voltage</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="sg-phase_b_voltage" advanced="true">
		<item-type>Number:ElectricPotential</item-type>
		<label>PHASE_B_VOLTAGE</label>
		<category>Energy</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Voltage</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="sg-phase_c_voltage" advanced="true">
		<item-type>Number:ElectricPotential</item-type>
		<label>PHASE_C_VOLTAGE</label>
		<category>Energy</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Voltage</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="sg-reactive_power" advanced="true">
		<item-type>Number:Power</item-type>
		<label>REACTIVE_POWER</label>
		<category>Energy</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Power</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="sg-power_factor" advanced="true">
		<item-type>Number:Dimensionless</item-type>
		<label>POWER_FACTOR</label>
		<category>Energy</category>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="sg-grid_frequency" advanced="true">
		<item-type>Number:Frequency</item-type>
		<label>GRID_FREQUENCY</label>
		<tags>
			<tag>Measurement</tag>
			<tag>Frequency</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>

	<channel-type id="sg-daily_pv_generation">
		<item-type>Number:Energy</item-type>
		<label>DAILY_PV_GENERATION</label>
		<category>Energy</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Energy</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="sg-total_pv_generation">
		<item-type>Number:Energy</item-type>
		<label>TOTAL_PV_GENERATION</label>
		<category>Energy</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Energy</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="sg-daily_export_power_from_pv">
		<item-type>Number:Power</item-type>
		<label>DAILY_EXPORT_POWER_FROM_PV</label>
		<category>Energy</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Power</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="sg-total_export_energy_from_pv">
		<item-type>Number:Energy</item-type>
		<label>TOTAL_EXPORT_ENERGY_FROM_PV</label>
		<category>Energy</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Energy</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="sg-load_power">
		<item-type>Number:Power</item-type>
		<label>LOAD_POWER</label>
		<category>Energy</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Power</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="sg-export_power">
		<item-type>Number:Power</item-type>
		<label>EXPORT_POWER</label>
		<category>Energy</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Power</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="sg-daily_battery_charge">
		<item-type>Number:Energy</item-type>
		<label>DAILY_BATTERY_CHARGE</label>
		<category>Energy</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Energy</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="sg-total_battery_charge">
		<item-type>Number:Energy</item-type>
		<label>TOTAL_BATTERY_CHARGE</label>
		<category>Energy</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Energy</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>
	<!--
		<channel-type id="sg-co2_reduction">
		<item-type>Number:Mass</item-type>
		<label>CO2_REDUCTION</label>
		<state pattern="%.2f %unit%" readOnly="true"/>
		</channel-type>
	-->
	<channel-type id="sg-daily_direct_energy_consumption">
		<item-type>Number:Energy</item-type>
		<label>DAILY_DIRECT_ENERGY_CONSUMPTION</label>
		<category>Energy</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Energy</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="sg-total_direct_energy_consumption">
		<item-type>Number:Energy</item-type>
		<label>TOTAL_DIRECT_ENERGY_CONSUMPTION</label>
		<category>Energy</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Energy</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="sg-battery_voltage" advanced="true">
		<item-type>Number:ElectricPotential</item-type>
		<label>BATTERY_VOLTAGE</label>
		<category>Energy</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Voltage</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="sg-battery_current" advanced="true">
		<item-type>Number:ElectricCurrent</item-type>
		<label>BATTERY_CURRENT</label>
		<category>Energy</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Current</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="sg-battery_power">
		<item-type>Number:Power</item-type>
		<label>BATTERY_POWER</label>
		<category>Battery</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Power</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="sg-battery_level">
		<item-type>Number:Dimensionless</item-type>
		<label>BATTERY_LEVEL</label>
		<category>Battery</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Energy</tag>
		</tags>
		<state pattern="%.2f %%" readOnly="true"/>
	</channel-type>
	<channel-type id="sg-battery_healthy">
		<item-type>Number:Dimensionless</item-type>
		<label>BATTERY_HEALTHY</label>
		<category>Battery</category>
		<state pattern="%.2f %%" readOnly="true"/>
	</channel-type>
	<channel-type id="sg-battery_temperature">
		<item-type>Number:Temperature</item-type>
		<label>BATTERY_TEMPERATUR</label>
		<category>Battery</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Temperature</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="sg-daily_battery_discharge_energy">
		<item-type>Number:Energy</item-type>
		<label>DAILY_BATTERY_DISCHARGE_ENERGY</label>
		<category>Energy</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Energy</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="sg-total_battery_discharge_energy">
		<item-type>Number:Energy</item-type>
		<label>TOTAL_BATTERY_DISCHARGE_ENERGY</label>
		<category>Energy</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Energy</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="sg-self_consumption_today">
		<item-type>Number:Dimensionless</item-type>
		<label>SELF_CONSUMPTION_TODAY</label>
		<state pattern="%.2f %%" readOnly="true"/>
	</channel-type>
	<!-->
		<channel-type id="sg-grid_state" advanced="true">
		<item-type>Number:Dimensionless</item-type>
		<label>GRID_STATE</label>
		<state pattern="%.2f %unit%" readOnly="true"/>
		</channel-type>
	-->
	<channel-type id="sg-phase_a_current" advanced="true">
		<item-type>Number:ElectricCurrent</item-type>
		<label>PHASE_A_CURRENT</label>
		<category>Energy</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Current</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="sg-phase_b_current" advanced="true">
		<item-type>Number:ElectricCurrent</item-type>
		<label>PHASE_B_CURRENT</label>
		<category>Energy</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Current</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="sg-phase_c_current" advanced="true">
		<item-type>Number:ElectricCurrent</item-type>
		<label>PHASE_C_CURRENT</label>
		<category>Energy</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Current</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="sg-total_active_power">
		<item-type>Number:Power</item-type>
		<label>TOTAL_ACTIVE_POWER</label>
		<category>Energy</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Power</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="sg-daily_import_energy">
		<item-type>Number:Energy</item-type>
		<label>DAILY_IMPORT_ENERGY</label>
		<category>Energy</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Energy</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="sg-total_import_energy">
		<item-type>Number:Energy</item-type>
		<label>TOTAL_IMPORT_ENERGY</label>
		<category>Energy</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Energy</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="sg-battery_capacity">
		<item-type>Number:Energy</item-type>
		<label>BATTERY_CAPACITY</label>
		<category>Energy</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Energy</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="sg-daily_charge_energy">
		<item-type>Number:Energy</item-type>
		<label>DAILY_CHARGE_ENERGY</label>
		<category>Energy</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Energy</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="sg-total_charge_energy">
		<item-type>Number:Energy</item-type>
		<label>TOTAL_CHARGE_ENERGY</label>
		<category>Energy</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Energy</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>

	<channel-type id="sg-daily_export_energy">
		<item-type>Number:Energy</item-type>
		<label>DAILY_EXPORT_ENERGY</label>
		<category>Energy</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Energy</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="sg-total_export_energy">
		<item-type>Number:Energy</item-type>
		<label>TOTAL_EXPORT_ENERGY</label>
		<category>Energy</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Energy</tag>
		</tags>
		<state pattern="%.2f %unit%" readOnly="true"/>
	</channel-type>
</thing:thing-descriptions>
